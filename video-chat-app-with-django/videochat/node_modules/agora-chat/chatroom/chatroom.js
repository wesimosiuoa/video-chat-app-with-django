!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.websdk=r():e.websdk=r()}(self,(function(){return(self.webpackChunkwebsdk=self.webpackChunkwebsdk||[]).push([[758],{9667:function(e,r,t){"use strict";t.r(r),t.d(r,{addUsersToChatRoom:function(){return E},addUsersToChatRoomAllowlist:function(){return J},addUsersToChatRoomWhitelist:function(){return W},blockChatRoomMember:function(){return w},blockChatRoomMembers:function(){return x},chatRoomBlockMulti:function(){return Z},chatRoomBlockSingle:function(){return P},createChatRoom:function(){return h},deleteChatRoomSharedFile:function(){return ce},destroyChatRoom:function(){return l},disableSendChatRoomMsg:function(){return F},enableSendChatRoomMsg:function(){return G},fetchChatRoomAnnouncement:function(){return oe},fetchChatRoomSharedFileList:function(){return se},getChatRoomAdmin:function(){return v},getChatRoomAllowlist:function(){return $},getChatRoomAttributes:function(){return ue},getChatRoomBlacklist:function(){return X},getChatRoomBlacklistNew:function(){return L},getChatRoomBlocklist:function(){return K},getChatRoomDetails:function(){return p},getChatRoomMuteList:function(){return O},getChatRoomMuted:function(){return N},getChatRoomMutelist:function(){return U},getChatRoomSharedFilelist:function(){return ie},getChatRoomWhitelist:function(){return Q},getChatRooms:function(){return m},getJoinedChatRooms:function(){return de},isChatRoomWhiteUser:function(){return ee},isInChatRoomAllowlist:function(){return re},isInChatRoomMutelist:function(){return te},joinChatRoom:function(){return g},leaveChatRoom:function(){return A},listChatRoomMember:function(){return C},listChatRoomMembers:function(){return S},modifyChatRoom:function(){return d},muteChatRoomMember:function(){return j},quitChatRoom:function(){return I},removeChatRoomAdmin:function(){return k},removeChatRoomAllowlistMember:function(){return q},removeChatRoomAttribute:function(){return pe},removeChatRoomAttributes:function(){return le},removeChatRoomBlockMulti:function(){return z},removeChatRoomBlockSingle:function(){return B},removeChatRoomMember:function(){return R},removeChatRoomMembers:function(){return y},removeChatRoomWhitelistMember:function(){return Y},removeMultiChatRoomMember:function(){return T},removeMuteChatRoomMember:function(){return M},removeSingleChatRoomMember:function(){return f},rmUsersFromChatRoomWhitelist:function(){return V},setChatRoomAdmin:function(){return _},setChatRoomAttribute:function(){return he},setChatRoomAttributes:function(){return me},unblockChatRoomMember:function(){return D},unblockChatRoomMembers:function(){return H},unmuteChatRoomMember:function(){return b},updateChatRoomAnnouncement:function(){return ae},uploadChatRoomSharedFile:function(){return ne}}),t(1539),t(8674),t(8309),t(2526),t(1817),t(2222),t(9753),t(9600),t(1249),t(4916),t(3123),t(2165),t(6992),t(8783),t(3948);var o=t(5531),a=t(7252),n=t(4024),c=t(3246),s=t(7360),i=t(1595);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(e){var r=this;if("number"!=typeof e.pagenum||"number"!=typeof e.pagesize)throw Error("Invalid parameter");if(!c.XZ.call(this)){var t=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var u={pagenum:e.pagenum||1,pagesize:e.pagesize||20},m=this.context,h=m.orgName,l=m.appName,p=m.accessToken,d={url:this.apiUrl+"/"+h+"/"+l+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+p},data:u,success:function(r){"function"==typeof e.success&&e.success(r)},error:function(t){t.error&&t.error_description&&r.onError&&r.onError({type:o.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:t.error_description,data:t}),"function"==typeof e.error&&e.error(t)}};return s.kg.debug("Call getChatRooms",e),n.hj.call(this,d,i.fI.GET_CHATROOM_LIST)}function h(e){if("string"!=typeof e.name)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t={name:e.name,description:e.description,maxusers:e.maxusers,owner:this.user,members:e.members},u=this.context,m=u.orgName,h=u.appName,l=u.accessToken,p=u.jid,d={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(h,"/chatrooms?resource=").concat(p.clientResource),dataType:"json",type:"POST",data:JSON.stringify(t),headers:{Authorization:"Bearer "+(e.token||l),"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call createChatRoom",e),n.hj.call(this,d,i.fI.CREATE_CHATROOM)}function l(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(e.chatRoomId,"?resource=").concat(l.clientResource,"&version=v3"),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+(e.token||h)},success:e.success,error:e.error};return s.kg.debug("Call destroyChatRoom",e),n.hj.call(this,p,i.fI.DESTROY_CHATROOM)}function p(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+e.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomDetails",e),n.hj.call(this,l,i.fI.GET_CHATROOM_DETAIL)}function d(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={groupname:e.chatRoomName,description:e.description,maxusers:e.maxusers},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"?resource=").concat(l.clientResource),type:"PUT",data:JSON.stringify(d),dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call modifyChatRoom",e),n.hj.call(this,f,i.fI.MODIFY_CHATROOM)}function f(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||"string"!=typeof e.username)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.username,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/users/").concat(d,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomMember",e),n.hj.call(this,f,i.fI.REMOVE_CHATROOM_MEMBER)}var R=f;function T(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=e.chatRoomId,u=e.users.join(","),m=this.context,h=m.orgName,l=m.appName,p=m.accessToken,d=m.jid,f={url:"".concat(this.apiUrl,"/").concat(h,"/").concat(l,"/chatrooms/").concat(t,"/users/").concat(u,"?resource=").concat(d.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomMembers",e),n.hj.call(this,f,i.fI.MULTI_REMOVE_CHATROOM_MEMBER)}var y=T;function E(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=e.chatRoomId,u={usernames:e.users},m=this.context,h=m.orgName,l=m.appName,p=m.accessToken,d=m.jid,f={url:"".concat(this.apiUrl,"/").concat(h,"/").concat(l,"/chatrooms/").concat(t,"/users?resource=").concat(d.clientResource),type:"POST",data:JSON.stringify(u),dataType:"json",headers:{Authorization:"Bearer "+p,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call addUsersToChatRoom",e),n.hj.call(this,f,i.fI.ADD_USERS_TO_CHATROOM)}function g(e){var r=e.roomId,t=e.message,n=void 0===t?"":t,i=e.ext,u=void 0===i?"":i,m=e.leaveOtherRooms,h=void 0!==m&&m,l=e.success,p=e.error;if("string"!=typeof r||""===r)throw Error("Invalid parameter roomId");if("string"!=typeof u)throw Error("Invalid parameter ext");if("boolean"!=typeof h)throw Error("Invalid parameter leaveOtherRooms");if(!c.XZ.call(this)){var d=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(d)}return s.kg.debug("Call joinChatRoom",e),this.logOut?Promise.reject({type:o.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom({roomId:r,ext:u,leaveOtherRooms:h,message:n,success:l,error:p},"join")}function I(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error("Invalid parameter");if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}return s.kg.debug("Call leaveChatRoom",e),this.logOut?Promise.reject({type:o.E.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom(e,"leave")}var A=I;function C(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(isNaN(e.pageNum)||e.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(e.pageSize)||e.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t={pagenum:e.pageNum,pagesize:e.pageSize},u=this.context,m=u.orgName,h=u.appName,l=u.accessToken,p={url:this.apiUrl+"/"+m+"/"+h+"/chatrooms/"+e.chatRoomId+"/users",dataType:"json",type:"GET",data:t,headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call listChatRoomMembers",e),n.hj.call(this,p,i.fI.LIST_CHATROOM_MEMBERS)}var S=C;function v(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.chatRoomId,p={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+l+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomAdmin",e),n.hj.call(this,p,i.fI.GET_CHATROOM_ADMIN)}function _(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={newadmin:e.username},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/admin?resource=").concat(l.clientResource),type:"POST",dataType:"json",data:JSON.stringify(d),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call setChatRoomAdmin",e),n.hj.call(this,f,i.fI.SET_CHATROOM_ADMIN)}function k(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.username,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/admin/").concat(d,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomAdmin",e),n.hj.call(this,f,i.fI.REMOVE_CHATROOM_ADMIN)}function j(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if("number"!=typeof e.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={usernames:[e.username],mute_duration:e.muteDuration},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/mute?resource=").concat(l.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},data:JSON.stringify(d),success:e.success,error:e.error};return s.kg.debug("Call muteChatRoomMember",e),n.hj.call(this,f,i.fI.MUTE_CHATROOM_MEMBER)}function M(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.username,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/mute/").concat(d,"?resource=").concat(l.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unmuteChatRoomMember",e),n.hj.call(this,f,i.fI.REMOVE_MUTE_CHATROOM_MEMBER)}var b=M;function N(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.chatRoomId,p={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+l+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomMutelist",e),n.hj.call(this,p,i.fI.GET_MUTE_CHATROOM_MEMBERS)}var O=N,U=N;function P(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.username,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/blocks/users/").concat(d,"?resource=").concat(l.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call blockChatRoomMember",e),n.hj.call(this,f,i.fI.SET_CHATROOM_MEMBER_TO_BLACK)}var w=P;function Z(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={usernames:e.usernames},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/blocks/users?resource=").concat(l.clientResource),data:JSON.stringify(d),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Chat blockChatRoomMembers:",f),n.hj.call(this,f,i.fI.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var x=Z;function B(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.username,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/blocks/users/").concat(d,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockChatRoomMember",e),n.hj.call(this,f,i.fI.REMOVE_CHATROOM_MEMBER_BLACK)}var D=B;function z(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d=e.usernames.join(","),f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/blocks/users/").concat(d,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call unblockChatRoomMembers",e),n.hj.call(this,f,i.fI.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var H=z;function L(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.chatRoomId,p={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+l+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomBlocklist",e),n.hj.call(this,p,i.fI.GET_CHATROOM_BLOCK_MEMBERS)}var X=L,K=L;function F(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/ban?resource=").concat(l.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call disableSendChatRoomMsg",e),n.hj.call(this,d,i.fI.DISABLED_CHATROOM_SEND_MSG)}function G(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/ban?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call enableSendChatRoomMsg",e),n.hj.call(this,d,i.fI.ENABLE_CHATROOM_SEND_MSG)}function W(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={usernames:e.users},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/white/users?resource=").concat(l.clientResource),type:"POST",data:JSON.stringify(d),dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call addUsersToChatRoomWhitelist",e),n.hj.call(this,f,i.fI.ADD_USERS_TO_CHATROOM)}var J=W;function V(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.chatRoomId,d={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/white/users/").concat(e.userName,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call removeChatRoomAllowlistMember",e),n.hj.call(this,d,i.fI.REMOVE_CHATROOM_WHITE_USERS)}var Y=V,q=V;function Q(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.chatRoomId,p={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+l+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call getChatRoomAllowlist",e),n.hj.call(this,p,i.fI.GET_CHATROOM_WHITE_USERS)}var $=Q;function ee(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.chatRoomId,p={url:this.apiUrl+"/"+u+"/"+m+"/chatrooms/"+l+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call isInChatRoomAllowlist",e),n.hj.call(this,p,i.fI.CHECK_CHATROOM_WHITE_USER)}var re=ee;function te(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,i=t.orgName,u=t.appName,m=t.accessToken,h=t.userId,l={url:this.apiUrl+"/"+i+"/"+u+"/sdk/chatrooms/"+e.chatRoomId+"/mute/"+h,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+m}};return s.kg.debug("Call isInChatRoomMutelist",e),n.hj.call(this,l).then((function(e){return{type:e.type,data:e.data}}))}function oe(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.roomId,p={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(l,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call fetchChatRoomAnnouncement",e),n.hj.call(this,p,i.fI.GET_CHATROOM_ANN)}function ae(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.announcement)throw Error('Invalid parameter: "announcement"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.roomId,d={announcement:e.announcement},f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/announcement?resource=").concat(l.clientResource),type:"POST",dataType:"json",data:JSON.stringify(d),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call updateChatRoomAnnouncement:",e),n.hj.call(this,f,i.fI.UPDATE_CHATROOM_ANN)}function ne(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("object"!==u(e.file))throw Error('Invalid parameter: "file"');if(c.XZ.call(this)){var r=this.context,t=r.orgName,o=r.appName,a=r.accessToken,m=r.jid,h=e.roomId;n.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(t,"/").concat(o,"/chatrooms/").concat(h,"/share_files?resource=").concat(m.clientResource),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:a,apiUrl:this.apiUrl,file:e.file,appKey:this.context.appKey},i.fI.UPLOAD_CHATROOM_FILE),s.kg.debug("Call uploadChatRoomSharedFile",e)}}function ce(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.fileId||""===e.fileId)throw Error('Invalid parameter: "fileId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.jid,p=e.roomId,d=e.fileId,f={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(p,"/share_files/").concat(d,"?resource=").concat(l.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"},success:e.success,error:e.error};return s.kg.debug("Call deleteChatRoomSharedFile",e),n.hj.call(this,f,i.fI.DELETE_CHATROOM_FILE)}function se(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=e.roomId,p={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/chatrooms/").concat(l,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+h,"Content-Type":"application/json",accept:"application/json"},success:e.success,error:e.error};return s.kg.debug("Call fetchChatRoomSharedFileList",e),n.hj.call(this,p,i.fI.GET_CHATROOM_FILES)}var ie=se;function ue(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(e.attributeKeys&&!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+e.attributeKeys);if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=(t.jid,e.chatRoomId),p={keys:e.attributeKeys},d={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/metadata/chatroom/").concat(l),type:"POST",dataType:"json",data:JSON.stringify(p),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"}};return s.kg.debug("Call getChatRoomAttributes:",e),n.hj.call(this,d,i.fI.GET_CHATROOM_ATTR).then((function(e){return{data:e.data,type:e.type}}))}function me(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("object"!==u(e.attributes))throw Error("Invalid parameter attributes: "+e.attributes);if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,m=t.orgName,h=t.appName,l=t.accessToken,p=t.userId,d=e.chatRoomId,f=e.attributes,R=e.autoDelete,T=void 0===R||R,y=e.isForced?"/forced":"",E={metaData:f,autoDelete:T?"DELETE":"NO_DELETE"},g={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(h,"/metadata/chatroom/").concat(d,"/user/").concat(p)+y,type:"PUT",dataType:"json",data:JSON.stringify(E),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttributes:",e),n.hj.call(this,g,i.fI.SET_CHATROOM_ATTR).then((function(e){return(0,c._W)(e)}))}function he(e){var r;if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error("Invalid parameter attributeKey: "+e.attributeKey);if("string"!=typeof e.attributeValue||""===e.attributeValue)throw Error("Invalid parameter attributeValue: "+e.attributeValue);if(!c.XZ.call(this)){var t=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var u=this.context,m=u.orgName,h=u.appName,l=u.accessToken,p=u.userId,d=e.chatRoomId,f=e.attributeKey,R=e.attributeValue,T=e.autoDelete,y=void 0===T||T,E=e.isForced?"/forced":"",g={metaData:(r={},r[f]=R,r),autoDelete:y?"DELETE":"NO_DELETE"},I={url:"".concat(this.apiUrl,"/").concat(m,"/").concat(h,"/metadata/chatroom/").concat(d,"/user/").concat(p)+E,type:"PUT",dataType:"json",data:JSON.stringify(g),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return s.kg.debug("Call setChatRoomAttribute:",e),n.hj.call(this,I,i.fI.SET_CHATROOM_ATTR).then((function(e){var r=(0,c.H7)(e);if(r)throw r}))}function le(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributes": '+e.attributeKeys);if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.userId,p=e.chatRoomId,d=e.attributeKeys,f=e.isForced?"/forced":"",R={keys:d},T={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/metadata/chatroom/").concat(p,"/user/").concat(l)+f,type:"DELETE",dataType:"json",data:JSON.stringify(R),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttributes:",e),n.hj.call(this,T,i.fI.DELETE_CHATROOM_ATTR).then((function(e){return(0,c._W)(e)}))}function pe(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error('"Invalid parameter attributeKey": '+e.attributeKey);if(!c.XZ.call(this)){var r=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(r)}var t=this.context,u=t.orgName,m=t.appName,h=t.accessToken,l=t.userId,p=e.chatRoomId,d=e.attributeKey,f=e.isForced?"/forced":"",R={keys:[d]},T={url:"".concat(this.apiUrl,"/").concat(u,"/").concat(m,"/metadata/chatroom/").concat(p,"/user/").concat(l)+f,type:"DELETE",dataType:"json",data:JSON.stringify(R),headers:{Authorization:"Bearer "+h,"Content-Type":"application/json"}};return s.kg.debug("Call removeChatRoomAttribute:",e),n.hj.call(this,T,i.fI.DELETE_CHATROOM_ATTR).then((function(e){var r=(0,c.H7)(e);if(r)throw r}))}function de(e){var r=this,t=e||{},u=t.pageNum,m=t.pageSize;if(isNaN(u)||u<=0)throw Error("Invalid parameter pageNum:".concat(u));if(isNaN(m)||m<=0)throw Error("Invalid parameter pageSize:".concat(m));if(!c.XZ.call(this)){var h=a.Z.create({type:o.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(h)}var l={pagenum:u,pagesize:m,detail:!0},p=this.context,d=p.orgName,f=p.appName,R=p.accessToken,T={url:"".concat(this.apiUrl,"/").concat(d,"/").concat(f,"/users/").concat(this.user,"/joined_chatrooms"),dataType:"json",type:"GET",data:l,headers:{Authorization:"Bearer "+R,"Content-Type":"application/json"}};return s.kg.debug("Call getJoinedChatRooms",e),n.hj.call(this,T,i.fI.GET_USER_JOINED_CHATROOM).then((function(e){var t=(e.data||[]).map((function(e){var t=e.id,o=e.title,a=e.owner,n=e.created,c=e.description,s=e.max_users;return{id:t,name:o,owner:a.split("".concat(r.appKey,"_"))[1],created:n,description:c,maxusers:s}}));return{type:e.type,data:t}}))}},3246:function(e,r,t){"use strict";t.d(r,{H7:function(){return u},XZ:function(){return s},_W:function(){return i}}),t(7941),t(9554),t(1539),t(4747),t(6699),t(2023);var o=t(5531),a=t(7252);function n(){var e=this.context.appName,r=this.context.orgName;return!(!e||!r)||(this.onError&&this.onError({type:o.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function c(){var e;if(!this.context.accessToken){var r=a.Z.create({type:o.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return this.onError&&this.onError(r),null===(e=this.eventHandler)||void 0===e||e.dispatch("onError",r),!1}return!0}function s(){return c.call(this)&&n.call(this)}function i(e){var r=e.data,t=e.type;return{data:{status:Object.keys(r.errorKeys).length>0?"fail":"success",errorKeys:r.errorKeys,successKeys:r.successKeys},type:t}}function u(e){var r=e.data,t=void 0;return Object.keys(r.errorKeys).length>0&&Object.keys(r.errorKeys).forEach((function(e){var n=r.errorKeys[e];t=n.includes("is not part of you")?a.Z.create({type:o.E.NO_PERMISSION,message:n}):n.includes("size of metadata for this single chatroom exceeds the user defined limit")||n.includes("total size of chatroom metadata for this app exceeds the user defined limit")||n.includes("is exceeding maximum limit")?a.Z.create({type:o.E.MAX_LIMIT,message:n}):n.includes("is not Legal")?a.Z.create({type:o.E.REQUEST_PARAMETER_ERROR,message:n}):n.includes("Failed to update userMetadata. Concurrent updates not allowed")?a.Z.create({type:o.E.OPERATION_NOT_ALLOWED,message:n}):a.Z.create({type:o.E.WEBIM_CONNCTION_AJAX_ERROR,message:n})})),t}},1530:function(e,r,t){"use strict";var o=t(8710).charAt;e.exports=function(e,r,t){return r+(t?o(e,r).length:1)}},7007:function(e,r,t){"use strict";t(4916);var o=t(1470),a=t(8052),n=t(2261),c=t(7293),s=t(5112),i=t(8880),u=s("species"),m=RegExp.prototype;e.exports=function(e,r,t,h){var l=s(e),p=!c((function(){var r={};return r[l]=function(){return 7},7!=""[e](r)})),d=p&&!c((function(){var r=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[u]=function(){return t},t.flags="",t[l]=/./[l]),t.exec=function(){return r=!0,null},t[l](""),!r}));if(!p||!d||t){var f=o(/./[l]),R=r(l,""[e],(function(e,r,t,a,c){var s=o(e),i=r.exec;return i===n||i===m.exec?p&&!c?{done:!0,value:f(r,t,a)}:{done:!0,value:s(t,r,a)}:{done:!1}}));a(String.prototype,e,R[0]),a(m,l,R[1])}h&&i(m[l],"sham",!0)}},7651:function(e,r,t){var o=t(6916),a=t(9670),n=t(614),c=t(4326),s=t(2261),i=TypeError;e.exports=function(e,r){var t=e.exec;if(n(t)){var u=o(t,e,r);return null!==u&&a(u),u}if("RegExp"===c(e))return o(s,e,r);throw i("RegExp#exec called on incompatible receiver")}},3123:function(e,r,t){"use strict";var o=t(2104),a=t(6916),n=t(1702),c=t(7007),s=t(9670),i=t(8554),u=t(7850),m=t(4488),h=t(6707),l=t(1530),p=t(7466),d=t(1340),f=t(8173),R=t(1589),T=t(7651),y=t(2261),E=t(2999),g=t(7293),I=E.UNSUPPORTED_Y,A=4294967295,C=Math.min,S=[].push,v=n(/./.exec),_=n(S),k=n("".slice),j=!g((function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));c("split",(function(e,r,t){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=d(m(this)),c=void 0===t?A:t>>>0;if(0===c)return[];if(void 0===e)return[n];if(!u(e))return a(r,n,e,c);for(var s,i,h,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,T=new RegExp(e.source,p+"g");(s=a(y,T,n))&&!((i=T.lastIndex)>f&&(_(l,k(n,f,s.index)),s.length>1&&s.index<n.length&&o(S,l,R(s,1)),h=s[0].length,f=i,l.length>=c));)T.lastIndex===s.index&&T.lastIndex++;return f===n.length?!h&&v(T,"")||_(l,""):_(l,k(n,f)),l.length>c?R(l,0,c):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:a(r,this,e,t)}:r,[function(r,t){var o=m(this),c=i(r)?void 0:f(r,e);return c?a(c,r,o,t):a(n,d(o),r,t)},function(e,o){var a=s(this),c=d(e),i=t(n,a,c,o,n!==r);if(i.done)return i.value;var u=h(a,RegExp),m=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(I?"g":"y"),R=new u(I?"^(?:"+a.source+")":a,f),y=void 0===o?A:o>>>0;if(0===y)return[];if(0===c.length)return null===T(R,c)?[c]:[];for(var E=0,g=0,S=[];g<c.length;){R.lastIndex=I?0:g;var v,j=T(R,I?k(c,g):c);if(null===j||(v=C(p(R.lastIndex+(I?g:0)),c.length))===E)g=l(c,g,m);else{if(_(S,k(c,E,g)),S.length===y)return S;for(var M=1;M<=j.length-1;M++)if(_(S,j[M]),S.length===y)return S;g=E=v}}return _(S,k(c,E)),S}]}),!j,I)}},function(e){return 9667,e(e.s=9667)}])}));